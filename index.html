<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Obras Hilton</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Adicionando Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .container { max-width: 640px; margin: 0 auto; }
        .input-field {
            width: 100%; padding: 10px; border: 1px solid #d1d5db;
            border-radius: 0.5rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .tab-button {
            padding: 8px 16px; border-radius: 8px; margin-right: 8px;
            cursor: pointer; transition: all 0.3s;
        }
        .tab-button.active {
            background-color: #3B82F6; color: white;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <!-- Tela de Login -->
    <div id="login-screen" class="flex items-center justify-center h-screen">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md">
            <h1 class="text-2xl font-bold text-center mb-6">Acesso Restrito</h1>
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Senha:</label>
                    <input type="password" id="password" class="input-field" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">
                    Entrar
                </button>
            </form>
        </div>
    </div>

    <!-- Aplicativo Principal -->
    <div id="app" class="hidden container">
        <!-- Cabe√ßalho -->
        <header class="text-center mt-8 mb-6">
            <h1 class="text-3xl font-bold text-gray-900">Gerenciador de Obras</h1>
            <p class="text-gray-600 mt-2">Controle completo de obras e vales</p>
        </header>

        <!-- Seletor de Obras -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold">Selecionar Obra</h2>
                <button id="nova-obra-btn" class="bg-green-500 text-white rounded-full px-4 py-2 text-sm hover:bg-green-600 transition-colors">
                    + Nova Obra
                </button>
            </div>
            
            <div class="flex overflow-x-auto py-2">
                <div id="obras-list" class="flex space-x-2">
                    <!-- Obras ser√£o carregadas aqui -->
                </div>
            </div>
        </div>

        <!-- Formul√°rio de Nova Obra (inicialmente oculto) -->
        <div id="nova-obra-form-container" class="bg-white rounded-xl shadow-lg p-6 mb-6 hidden">
            <h2 class="text-xl font-semibold mb-4">Cadastrar Nova Obra</h2>
            <form id="nova-obra-form" class="space-y-4">
                <div class="flex flex-col">
                    <label class="text-sm font-medium mb-1">Nome da Obra:</label>
                    <input id="nova-obra-nome" type="text" class="input-field" required>
                </div>
                <div class="flex flex-col">
                    <label class="text-sm font-medium mb-1">Valor Total (R$):</label>
                    <input id="nova-obra-valor" type="number" class="input-field" required>
                </div>
                <div class="flex flex-col">
                    <label class="text-sm font-medium mb-1">Metros Quadrados (m¬≤):</label>
                    <input id="nova-obra-metro" type="number" class="input-field">
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        Salvar
                    </button>
                    <button type="button" id="cancelar-nova-obra" class="w-full bg-gray-300 text-gray-800 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                        Cancelar
                    </button>
                </div>
            </form>
        </div>

        <!-- Abas para navega√ß√£o -->
        <div class="flex mb-4 bg-white rounded-xl shadow-lg p-2">
            <div id="tab-detalhes" class="tab-button active">Detalhes</div>
            <div id="tab-vales" class="tab-button">Vales</div>
            <div id="tab-receitas" class="tab-button">Receitas</div>
            <div id="tab-resumo" class="tab-button">Resumo</div>
        </div>

        <!-- Conte√∫do das Abas -->
        <div id="tab-content">
            <!-- Detalhes da Obra -->
            <div id="detalhes-content" class="tab-pane bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold">Detalhes da Obra</h2>
                    <button id="edit-obra-btn" class="bg-blue-500 text-white rounded-full px-4 py-2 text-sm hover:bg-blue-600 transition-colors">
                        Editar
                    </button>
                </div>
                
                <!-- Modo Visualiza√ß√£o -->
                <div id="display-obra-data" class="space-y-3">
                    <div class="flex items-center space-x-3 text-lg">
                        <span class="text-blue-500">üè†</span>
                        <span><strong>Obra:</strong> <span id="display-obra-nome">N/A</span></span>
                    </div>
                    <div class="flex items-center space-x-3 text-lg">
                        <span class="text-blue-500">üí≤</span>
                        <span><strong>Valor:</strong> <span id="display-obra-valor">R$ 0,00</span></span>
                    </div>
                    <div class="flex items-center space-x-3 text-lg">
                        <span class="text-blue-500">üìè</span>
                        <span><strong>Metragem:</strong> <span id="display-obra-metro">0 m¬≤</span></span>
                    </div>
                </div>

                <!-- Modo Edi√ß√£o -->
                <form id="edit-obra-form" class="hidden space-y-4">
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Nome da Obra:</label>
                        <input id="input-obra-nome" type="text" class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Valor Total (R$):</label>
                        <input id="input-obra-valor" type="number" class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Metros Quadrados (m¬≤):</label>
                        <input id="input-obra-metro" type="number" class="input-field">
                    </div>
                    <div class="flex space-x-4">
                        <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            Salvar
                        </button>
                        <button type="button" id="cancelar-edicao" class="w-full bg-gray-300 text-gray-800 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                            Cancelar
                        </button>
                    </div>
                </form>
            </div>

            <!-- Controle de Vales -->
            <div id="vales-content" class="tab-pane bg-white rounded-xl shadow-lg p-6 mb-6 hidden">
                <h2 class="text-xl font-semibold mb-4">Controle de Vales</h2>
                <form id="add-adiantamento-form" class="space-y-4">
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Data:</label>
                        <input type="date" name="data" required class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Descri√ß√£o:</label>
                        <input type="text" name="descricao" placeholder="Ex: Vale semanal" class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Valor (R$):</label>
                        <input type="number" name="valor" placeholder="0.00" required class="input-field">
                    </div>
                    <button type="submit" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                        + Adicionar Vale
                    </button>
                </form>

                <!-- Lista de Vales -->
                <div class="mt-6">
                    <h3 class="font-medium mb-2">Hist√≥rico de Vales</h3>
                    <ul id="adiantamentos-list" class="divide-y divide-gray-200">
                        <li class="py-4 text-center text-gray-500">Nenhum vale registrado</li>
                    </ul>
                </div>
            </div>

            <!-- Adicionar Receitas -->
            <div id="receitas-content" class="tab-pane bg-white rounded-xl shadow-lg p-6 mb-6 hidden">
                <h2 class="text-xl font-semibold mb-4">Adicionar Receita</h2>
                <form id="add-receita-form" class="space-y-4">
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Data:</label>
                        <input type="date" name="data" required class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Descri√ß√£o:</label>
                        <input type="text" name="descricao" placeholder="Ex: Servi√ßo adicional" class="input-field">
                    </div>
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-1">Valor (R$):</label>
                        <input type="number" name="valor" placeholder="0.00" required class="input-field">
                    </div>
                    <button type="submit" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                        + Adicionar Receita
                    </button>
                </form>

                <!-- Lista de Receitas -->
                <div class="mt-6">
                    <h3 class="font-medium mb-2">Hist√≥rico de Receitas</h3>
                    <ul id="receitas-list" class="divide-y divide-gray-200">
                        <li class="py-4 text-center text-gray-500">Nenhuma receita registrada</li>
                    </ul>
                </div>
            </div>

            <!-- Resumo Financeiro -->
            <div id="resumo-content" class="tab-pane bg-white rounded-xl shadow-lg p-6 mb-6 hidden">
                <h2 class="text-xl font-semibold mb-4">Resumo Financeiro</h2>
                <div class="grid grid-cols-2 gap-4 text-center mb-6">
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <p class="text-sm font-medium text-gray-500">Total da Obra</p>
                        <p id="total-obra" class="text-lg font-bold">R$ 0,00</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <p class="text-sm font-medium text-gray-500">Receitas Adicionais</p>
                        <p id="total-receitas" class="text-lg font-bold">R$ 0,00</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <p class="text-sm font-medium text-gray-500">Total Vales</p>
                        <p id="total-vales" class="text-lg font-bold">R$ 0,00</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <p class="text-sm font-medium text-gray-500">Saldo</p>
                        <p id="saldo" class="text-lg font-bold">R$ 0,00</p>
                    </div>
                </div>

                <div class="bg-blue-50 p-4 rounded-xl">
                    <h3 class="font-medium mb-2">Sincroniza√ß√£o com Nuvem</h3>
                    <div class="flex space-x-4">
                        <button id="sync-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            Sincronizar Agora
                        </button>
                    </div>
                    <p id="sync-status" class="text-sm text-gray-500 mt-2"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configura√ß√µes do Firebase (substitua com suas credenciais)
        const firebaseConfig = {
            apiKey: "SUA_API_KEY",
            authDomain: "SEU_PROJETO.firebaseapp.com",
            databaseURL: "https://SEU_PROJETO.firebaseio.com",
            projectId: "SEU_PROJETO",
            storageBucket: "SEU_PROJETO.appspot.com",
            messagingSenderId: "SEU_SENDER_ID",
            appId: "SEU_APP_ID"
        };

        // Inicializa Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Configura√ß√µes
        const SENHA_CORRETA = "Leticia180977";
        const DADOS_LOCAIS = "hilton_obra_data";
        
        // Estado do aplicativo
        let userData = {
            obras: [], // Agora armazena m√∫ltiplas obras
            obraAtual: null, // ID da obra selecionada
            syncEnabled: false // Controle de sincroniza√ß√£o
        };

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            // Login
            document.getElementById('login-form').addEventListener('submit', (e) => {
                e.preventDefault();
                if (document.getElementById('password').value === SENHA_CORRETA) {
                    document.getElementById('login-screen').classList.add('hidden');
                    document.getElementById('app').classList.remove('hidden');
                    carregarDados();
                } else {
                    alert("Senha incorreta!");
                }
            });

            // Controle de abas
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.addEventListener('click', () => {
                    // Ativa a aba clicada
                    document.querySelectorAll('.tab-button').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Mostra o conte√∫do correspondente
                    document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.add('hidden'));
                    
                    const tabId = tab.id.replace('tab-', '');
                    document.getElementById(`${tabId}-content`).classList.remove('hidden');
                });
            });

            // Nova obra
            document.getElementById('nova-obra-btn').addEventListener('click', () => {
                document.getElementById('nova-obra-form-container').classList.remove('hidden');
            });

            document.getElementById('cancelar-nova-obra').addEventListener('click', () => {
                document.getElementById('nova-obra-form-container').classList.add('hidden');
                document.getElementById('nova-obra-form').reset();
            });

            document.getElementById('nova-obra-form').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const novaObra = {
                    id: Date.now().toString(),
                    nome: document.getElementById('nova-obra-nome').value,
                    valor: parseFloat(document.getElementById('nova-obra-valor').value) || 0,
                    metroQuadrado: parseFloat(document.getElementById('nova-obra-metro').value) || 0,
                    vales: [],
                    receitas: [],
                    criadoEm: new Date().toISOString()
                };
                
                userData.obras.push(novaObra);
                userData.obraAtual = novaObra.id;
                
                salvarDados();
                document.getElementById('nova-obra-form').reset();
                document.getElementById('nova-obra-form-container').classList.add('hidden');
                atualizarInterface();
            });

            // Controle de edi√ß√£o da obra
            document.getElementById('edit-obra-btn').addEventListener('click', () => {
                document.getElementById('display-obra-data').classList.add('hidden');
                document.getElementById('edit-obra-form').classList.remove('hidden');
                
                const obraAtual = getObraAtual();
                if (obraAtual) {
                    document.getElementById('input-obra-nome').value = obraAtual.nome;
                    document.getElementById('input-obra-valor').value = obraAtual.valor;
                    document.getElementById('input-obra-metro').value = obraAtual.metroQuadrado;
                }
            });

            document.getElementById('cancelar-edicao').addEventListener('click', () => {
                document.getElementById('edit-obra-form').classList.add('hidden');
                document.getElementById('display-obra-data').classList.remove('hidden');
            });

            // Salvar dados da obra
            document.getElementById('edit-obra-form').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const obraAtual = getObraAtual();
                if (obraAtual) {
                    obraAtual.nome = document.getElementById('input-obra-nome').value;
                    obraAtual.valor = parseFloat(document.getElementById('input-obra-valor').value) || 0;
                    obraAtual.metroQuadrado = parseFloat(document.getElementById('input-obra-metro').value) || 0;
                    
                    salvarDados();
                    document.getElementById('edit-obra-form').classList.add('hidden');
                    document.getElementById('display-obra-data').classList.remove('hidden');
                    atualizarInterface();
                }
            });

            // Adicionar vale
            document.getElementById('add-adiantamento-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const form = e.target;
                
                const obraAtual = getObraAtual();
                if (obraAtual) {
                    obraAtual.vales.push({
                        id: Date.now().toString(),
                        data: form.data.value,
                        descricao: form.descricao.value,
                        valor: parseFloat(form.valor.value) || 0
                    });
                    
                    form.reset();
                    salvarDados();
                    atualizarInterface();
                }
            });

            // Adicionar receita
            document.getElementById('add-receita-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const form = e.target;
                
                const obraAtual = getObraAtual();
                if (obraAtual) {
                    obraAtual.receitas.push({
                        id: Date.now().toString(),
                        data: form.data.value,
                        descricao: form.descricao.value,
                        valor: parseFloat(form.valor.value) || 0
                    });
                    
                    form.reset();
                    salvarDados();
                    atualizarInterface();
                }
            });

            // Sincroniza√ß√£o
            document.getElementById('sync-btn').addEventListener('click', () => {
                sincronizarDados();
            });
        });

        // Fun√ß√µes auxiliares
        function getObraAtual() {
            if (!userData.obraAtual) return null;
            return userData.obras.find(o => o.id === userData.obraAtual);
        }

        function carregarDados() {
            // Tenta carregar do localStorage primeiro
            const dadosLocais = localStorage.getItem(DADOS_LOCAIS);
            if (dadosLocais) {
                userData = JSON.parse(dadosLocais);
            }
            
            // Depois tenta sincronizar com a nuvem
            sincronizarDados();
        }

        function salvarDados() {
            // Salva localmente
            localStorage.setItem(DADOS_LOCAIS, JSON.stringify(userData));
            
            // Se estiver com sync ativado, salva na nuvem tamb√©m
            if (userData.syncEnabled) {
                salvarNaNuvem();
            }
        }

        function salvarNaNuvem() {
            database.ref('obras/' + btoa(SENHA_CORRETA)).set(userData)
                .then(() => {
                    document.getElementById('sync-status').textContent = "Dados salvos na nuvem em " + new Date().toLocaleString();
                })
                .catch(error => {
                    console.error("Erro ao salvar na nuvem:", error);
                    document.getElementById('sync-status').textContent = "Erro ao salvar na nuvem";
                });
        }

        function sincronizarDados() {
            document.getElementById('sync-status').textContent = "Sincronizando...";
            
            database.ref('obras/' + btoa(SENHA_CORRETA)).once('value')
                .then(snapshot => {
                    const dadosRemotos = snapshot.val();
                    
                    if (dadosRemotos) {
                        // Mescla dados locais e remotos
                        userData = {
                            ...dadosRemotos,
                            // Mant√©m a obra atual selecionada
                            obraAtual: userData.obraAtual || dadosRemotos.obraAtual
                        };
                        
                        userData.syncEnabled = true;
                        salvarDados();
                        document.getElementById('sync-status').textContent = "Dados sincronizados em " + new Date().toLocaleString();
                    } else {
                        // Primeira sincroniza√ß√£o - envia dados locais
                        userData.syncEnabled = true;
                        salvarNaNuvem();
                    }
                    
                    atualizarInterface();
                })
                .catch(error => {
                    console.error("Erro ao sincronizar:", error);
                    document.getElementById('sync-status').textContent = "Erro ao sincronizar";
                    userData.syncEnabled = false;
                });
        }

        function atualizarInterface() {
            // Atualiza lista de obras
            const obrasList = document.getElementById('obras-list');
            obrasList.innerHTML = userData.obras.length > 0 
                ? userData.obras.map(obra => `
                    <div class="flex-shrink-0">
                        <button class="px-4 py-2 rounded-lg ${userData.obraAtual === obra.id ? 'bg-blue-500 text-white' : 'bg-gray-200'}" 
                                data-id="${obra.id}">
                            ${obra.nome || "Nova Obra"}
                        </button>
                    </div>
                `).join('')
                : '<p class="text-gray-500">Nenhuma obra cadastrada</p>';

            // Adiciona eventos de sele√ß√£o de obra
            document.querySelectorAll('#obras-list button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    userData.obraAtual = e.target.dataset.id;
                    salvarDados();
                    atualizarInterface();
                });
            });

            // Atualiza dados da obra atual
            const obraAtual = getObraAtual();
            if (obraAtual) {
                // Detalhes da obra
                document.getElementById('display-obra-nome').textContent = obraAtual.nome || "N/A";
                document.getElementById('display-obra-valor').textContent = formatCurrency(obraAtual.valor);
                document.getElementById('display-obra-metro').textContent = obraAtual.metroQuadrado ? `${obraAtual.metroQuadrado} m¬≤` : "N/A";

                // Lista de vales
                const listaVales = document.getElementById('adiantamentos-list');
                listaVales.innerHTML = obraAtual.vales.length > 0 
                    ? obraAtual.vales.map(vale => `
                        <li class="py-4 flex justify-between items-center">
                            <div>
                                <p class="font-medium">${vale.descricao}</p>
                                <p class="text-sm text-gray-500">${formatDate(vale.data)}</p>
                            </div>
                            <div class="flex items-center">
                                <span class="font-semibold mr-2">${formatCurrency(vale.valor)}</span>
                                <button class="text-red-500 p-1" data-id="${vale.id}">
                                    ‚úï
                                </button>
                            </div>
                        </li>
                    `).join('')
                    : '<li class="py-4 text-center text-gray-500">Nenhum vale registrado</li>';

                // Adiciona eventos de remo√ß√£o de vales
                document.querySelectorAll('#adiantamentos-list button').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = e.target.closest('button').dataset.id;
                        obraAtual.vales = obraAtual.vales.filter(v => v.id !== id);
                        salvarDados();
                        atualizarInterface();
                    });
                });

                // Lista de receitas
                const listaReceitas = document.getElementById('receitas-list');
                listaReceitas.innerHTML = obraAtual.receitas.length > 0 
                    ? obraAtual.receitas.map(receita => `
                        <li class="py-4 flex justify-between items-center">
                            <div>
                                <p class="font-medium">${receita.descricao}</p>
                                <p class="text-sm text-gray-500">${formatDate(receita.data)}</p>
                            </div>
                            <div class="flex items-center">
                                <span class="font-semibold mr-2">${formatCurrency(receita.valor)}</span>
                                <button class="text-red-500 p-1" data-id="${receita.id}">
                                    ‚úï
                                </button>
                            </div>
                        </li>
                    `).join('')
                    : '<li class="py-4 text-center text-gray-500">Nenhuma receita registrada</li>';

                // Adiciona eventos de remo√ß√£o de receitas
                document.querySelectorAll('#receitas-list button').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = e.target.closest('button').dataset.id;
                        obraAtual.receitas = obraAtual.receitas.filter(r => r.id !== id);
                        salvarDados();
                        atualizarInterface();
                    });
                });

                atualizarResumo();
            } else {
                // Limpa os dados se n√£o houver obra selecionada
                document.getElementById('display-obra-nome').textContent = "N/A";
                document.getElementById('display-obra-valor').textContent = "R$ 0,00";
                document.getElementById('display-obra-metro').textContent = "0 m¬≤";
                
                document.getElementById('adiantamentos-list').innerHTML = 
                    '<li class="py-4 text-center text-gray-500">Nenhum vale registrado</li>';
                
                document.getElementById('receitas-list').innerHTML = 
                    '<li class="py-4 text-center text-gray-500">Nenhuma receita registrada</li>';
                
                atualizarResumo();
            }
        }

        function atualizarResumo() {
            const obraAtual = getObraAtual();
            
            if (obraAtual) {
                const totalVales = obraAtual.vales.reduce((sum, vale) => sum + vale.valor, 0);
                const totalReceitas = obraAtual.receitas.reduce((sum, receita) => sum + receita.valor, 0);
                const valorTotalObra = obraAtual.valor + totalReceitas;
                const saldo = valorTotalObra - totalVales;

                document.getElementById('total-obra').textContent = formatCurrency(obraAtual.valor);
                document.getElementById('total-receitas').textContent = formatCurrency(totalReceitas);
                document.getElementById('total-vales').textContent = formatCurrency(totalVales);
                document.getElementById('saldo').textContent = formatCurrency(saldo);
                document.getElementById('saldo').className = saldo < 0 
                    ? "text-lg font-bold text-red-600" 
                    : "text-lg font-bold text-green-600";
            } else {
                document.getElementById('total-obra').textContent = "R$ 0,00";
                document.getElementById('total-receitas').textContent = "R$ 0,00";
                document.getElementById('total-vales').textContent = "R$ 0,00";
                document.getElementById('saldo').textContent = "R$ 0,00";
                document.getElementById('saldo').className = "text-lg font-bold";
            }
        }

        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', { 
                style: 'currency', 
                currency: 'BRL' 
            }).format(value || 0);
        }

        function formatDate(dateString) {
            if (!dateString) return "N/A";
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }
    </script>
</body>
</html>
